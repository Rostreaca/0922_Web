<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">

	<select id="login"
			resultType="com.kh.member.model.vo.Member"
			parameterType="com.kh.member.model.vo.Member">
		SELECT
			   USER_NO userNo
			 , USER_ID userId
			 , USER_PWD userPwd
			 , USER_NAME userName
			 , EMAIL
			 , ENROLL_DATE enrollDate
			 , MODIFY_DATE modifyDate
			 , STATUS
	      FROM
	           PCSHOP_MEMBER
	     WHERE
	           USER_ID = #{userId}
	       AND
	           USER_PWD = #{userPwd}
	       AND
	           STATUS = 'Y'
	
	
	</select>
	<insert id="insertMember" parameterType="member">
	INSERT
	  INTO
	       PCSHOP_MEMBER
	       (
	       USER_NO
	     , USER_ID
	     , USER_PWD
	     , USER_NAME
	     , EMAIL
	       )
	VALUES
	       (
	       PCSHOP_UNO.NEXTVAL
	     , #{userId}
	     , #{userPwd}
	     , #{userName}
	     , #{email}
	       )
	
	
	</insert>
	
	<update id="update">
		UPDATE
		       PCSHOP_MEMBER
		   SET
		       USER_NAME = #{userName}
		     , EMAIL = #{email}
		 WHERE
		       USER_NO = #{userNo}
		   AND
		       STATUS = 'Y'
	</update>
	
	<update id="delete">
		UPDATE
		       PCSHOP_MEMBER
		   SET
		       STATUS = 'N'
		     , MODIFY_DATE = SYSDATE
		 WHERE
		       USER_NO = #{userNo}
		   AND
		       USER_PWD = #{userPwd}
		   AND
		       STATUS = 'Y'
	
	</update>
	
	<update id="updatePwd">
	UPDATE
	       PCSHOP_MEMBER
	   SET
	       USER_PWD = #{changePwd}
	 WHERE
	       USER_PWD = #{userPwd}
	   AND
	       USER_NO = #{userNo}
	   AND
	       STATUS = 'Y'
	
	
	</update>

</mapper>