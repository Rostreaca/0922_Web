<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="employeeMapper">

<insert id="insertEmployee"
		parameterType="com.kh.employee.model.vo.Employee">
		
		INSERT
		  INTO
		  	   EMPLOYEE
		VALUES
			   (
			   SEQ_EMPNO.NEXTVAL
			 , #{empName}
			 , #{empNo}
			 , #{email}
			 , #{phone}
			 , #{deptCode}
			 , #{jobCode}
			 , #{salLevel}
			 , #{salary}
			 , #{bonus}
			 , #{managerId}
			 , SYSDATE
			 , NULL
			 , 'N'  
			   )

</insert>

<select id="findAll"
        resultType="com.kh.employee.model.vo.Employee">
    SELECT
    	   EMP_ID empId
    	 , EMP_NAME empName
    	 , EMP_NO empNo
    	 , EMAIL
    	 , PHONE
    	 , DEPT_TITLE deptCode
    	 , JOB_NAME jobCode
    	 , SAL_LEVEL salLevel
    	 , SALARY
    	 , BONUS
    	 , MANAGER_ID managerId
    	 , HIRE_DATE hireDate
   	  FROM
   	  	   EMPLOYEE
   	  JOIN
   	  	   DEPARTMENT ON (DEPT_CODE = DEPT_ID)
   	  JOIN
   	  	   JOB USING (JOB_CODE)
   	 WHERE
   	       ENT_YN = 'N'
   	 ORDER
   	    BY
   	       hireDate DESC    

</select>




</mapper>